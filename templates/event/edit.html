<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Edit Event - Admin BatikKara</title>

  <!-- Boxicons -->
  <link href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css" rel="stylesheet" />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/event-create.css') }}" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>

<body>

  <!-- SIDEBAR -->
  <section id="sidebar">
    <a href="#" class="brand">
      <i class='bx bxs-smile'></i>
      <span class="text">Admin BatikKara</span>
    </a>
    <ul class="side-menu top">
      <li><a href="{{ url_for('dashboard.admin_dashboard') }}"><i class='bx bxs-dashboard'></i><span
            class="text">Dashboard</span></a></li>
      <li class="menu-label"><span class="text">Master Data</span></li>
      <li><a href="{{ url_for('gallery.web_gallery_index') }}"><i class='bx bxs-shopping-bag-alt'></i><span
            class="text">Data Batik</span></a></li>
      <li><a href="{{ url_for('video_bp.index') }}"><i class='bx bxs-video'></i><span class="text">Data Video</span></a>
      </li>
      <li><a href="{{ url_for('article.web_article_index') }}"><i class='bx bxs-news'></i><span class="text">Data
            Artikel</span></a></li>
      <li class="active"><a href="{{ url_for('event_web.event_index') }}"><i class='bx bxs-calendar-event'></i><span
            class="text">Data Event</span></a></li>
      <li><a href="{{ url_for('batik_place_bp.index') }}"><i class='bx bxs-map'></i><span class="text">Data
            Mapping</span></a></li>
      <li><a href="{{ url_for('auth_web.logout') }}" class="logout"><i class='bx bxs-log-out-circle'></i><span
            class="text">Logout</span></a></li>
    </ul>
  </section>

  <!-- CONTENT -->
  <section id="content">
    <nav>
      <i class='bx bx-menu'></i>
      <a href="#" class="nav-link">Edit Event</a>
    </nav>

    <main>
      <div class="container">
        <h2>Edit Event</h2>

        <!-- FORM EDIT -->
        <form method="POST" enctype="multipart/form-data"
          action="{{ url_for('event_web.edit_event_route', id=event['_id']) }}" class="form-box">
          <label for="judul">Judul Event</label>
          <input type="text" id="judul" name="judul" value="{{ event['judul'] }}" required>

          <label for="lokasi">Lokasi</label>
          <input type="text" id="lokasi" name="lokasi" value="{{ event['lokasi'] }}" required>

          <label for="waktu">Waktu Pelaksanaan</label>
          <input type="text" id="waktu" name="waktu" value="{{ event['waktu'] }}" placeholder="Pilih tanggal" required>

          <label for="deskripsi">Deskripsi</label>
          <textarea id="deskripsi" name="deskripsi" rows="4" required>{{ event['deskripsi'] }}</textarea>

          <label for="foto">Foto Event (opsional)</label><br>
          {% if event.get('foto') %}
          <img src="{{ url_for('static', filename='uploads/' + event['foto']) }}" alt="Foto Event" width="120"
            style="margin-bottom:10px;"><br>
          {% endif %}
          <input type="file" id="foto" name="foto" accept="image/*">

          <div class="actions">
            <button type="submit" class="btn-submit"><i class='bx bx-check'></i> Simpan Perubahan</button>
            <a href="{{ url_for('event_web.event_index') }}" class="btn-cancel">Batal</a>
          </div>
        </form>
      </div>
    </main>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script>
    flatpickr("#waktu", {
      dateFormat: "Y-m-d", // Format sesuai kebutuhan backend-mu
      altInput: true,
      altFormat: "d F Y"
    });
  </script>

</body>

</html>