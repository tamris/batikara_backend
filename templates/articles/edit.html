<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Artikel - Admin BatikKara</title>

    <!-- Boxicons -->
    <link href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/event-create.css') }}" />
</head>

<body>

    <!-- SIDEBAR -->
    <section id="sidebar">
        <a href="#" class="brand">
            <i class='bx bxs-smile'></i>
            <span class="text">Admin BatikKara</span>
        </a>
        <ul class="side-menu top">
            <li><a href="{{ url_for('dashboard.admin_dashboard') }}"><i class='bx bxs-dashboard'></i><span
                        class="text">Dashboard</span></a></li>
            <li class="menu-label"><span class="text">Master Data</span></li>
            <li><a href="{{ url_for('gallery.web_gallery_index') }}"><i class='bx bxs-shopping-bag-alt'></i><span
                        class="text">Data Batik</span></a></li>
            <li><a href="{{ url_for('video_bp.index') }}"><i class='bx bxs-group'></i><span class="text">Data
                        Video</span></a></li>
            <li class="active"><a href="{{ url_for('article.web_article_index') }}"><i class='bx bxs-news'></i><span
                        class="text">Data Artikel</span></a></li>
            <li><a href="{{ url_for('event_web.event_index') }}"><i class='bx bxs-calendar-event'></i><span
                        class="text">Data Event</span></a></li>
            <li><a href="{{ url_for('batik_place_bp.index') }}"><i class='bx bxs-cog'></i><span class="text">Data
                        Mapping</span></a></li>
            <li><a href="{{ url_for('auth_web.logout') }}" class="logout"><i class='bx bxs-log-out-circle'></i><span
                        class="text">Logout</span></a></li>
        </ul>
    </section>

    <!-- CONTENT -->
    <section id="content">
        <nav>
            <i class='bx bx-menu'></i>
            <a href="#" class="nav-link">Edit Artikel</a>
        </nav>

        <main>
            <div class="container">
                <h2>Edit Artikel</h2>

                <!-- FORM TAMBAH ARTIKEL -->
                <form method="POST" enctype="multipart/form-data"
                    action="{{ url_for('article.web_article_edit', id=article.id) }}" class="form-box">
                    <label for="title">Judul Artikel</label>
                    <input type="text" id="title" name="title" value="{{ article.title }}" required>

                    <label for="description">Deskripsi</label>
                    <textarea id="description" name="description" rows="4" required>{{ article.description }}</textarea>

                    <label>Foto Lama</label>
                    <img src="{{ article.image_url }}" alt="Preview Gambar" style="max-width: 200px; display: block;">

                    <label for="image">Ganti Foto (Opsional)</label>
                    <input type="file" id="image" name="image" accept="image/*">

                    <div class="actions">
                        <button type="submit" class="btn-submit"><i class='bx bx-check'></i> Simpan Perubahan</button>
                        <a href="{{ url_for('article.web_article_index') }}" class="btn-cancel">Batal</a>
                    </div>
                </form>


                <!-- Flash Messages -->
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                <div id="popup" class="popup show">
                    {% for category, message in messages %}
                    <div class="popup-content {{ category }}">
                        <span class="popup-icon">&#10003;</span>
                        <p>{{ message }}</p>
                    </div>
                    {% endfor %}
                </div>
                {% endif %}
                {% endwith %}
            </div>
        </main>
    </section>

    <script>
        setTimeout(() => {
            const popup = document.getElementById('popup');
            if (popup) popup.style.display = 'none';
        }, 3000);
    </script>

</body>

</html>